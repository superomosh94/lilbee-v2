<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Admin Panel | Lil-Bee Logics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;600;700&display=swap">
</head>

<body class="dashboard admin-panel">

  <aside class="sidebar glass-card">
    <div class="profile">
      <div id="userAvatar" class="avatar"></div>
      <div class="profile-info">
        <h3 id="userEmail">Loading...</h3>
        <span id="userRole" class="badge">admin</span>
        <div id="userStatus" class="status online">Online</div>
      </div>

      <button id="toggleUpdateBtn" class="small-btn">Edit Profile</button>
      <div id="profileUpdateArea" class="profile-update" hidden>
        <input type="text" id="updateName" placeholder="Name">
        <input type="email" id="updateEmail" placeholder="Email">
        <input type="text" id="updateAvatar" placeholder="Avatar URL">
        <button id="updateProfileBtn">Save Changes</button>
      </div>
    </div>

    <nav class="menu">
      <button data-tab="adminUsers" class="tab active">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        User Management
      </button>
      <button data-tab="adminServices" class="tab">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
        </svg>
        Service Requests
      </button>
      <button data-tab="adminModeration" class="tab">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
        </svg>
        Mod & Support
      </button>
      <button id="logoutBtn" class="danger">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        Logout
      </button>
    </nav>
  </aside>

  <main class="main">

    <section id="adminUsers" class="tab active glass-card">
      <div class="section-header">
        <h2>Operative Management</h2>
      </div>

      <div class="glass-card" style="margin-bottom: 30px; padding: 24px; border: 1px solid rgba(255, 184, 107, 0.2);">
        <h4 style="margin-top:0; color:var(--accent);">Authorize New Operative</h4>
        <div style="display:flex; gap:12px; flex-wrap:wrap; margin-top: 15px;">
          <input type="email" id="adminNewUserEmail" placeholder="Operative Email"
            style="flex:1; min-width:200px; margin-bottom:0; background:rgba(0,0,0,0.2); border:1px solid rgba(255,255,255,0.1);">
          <input type="password" id="adminNewUserPass" placeholder="Access Code"
            style="flex:1; min-width:150px; margin-bottom:0; background:rgba(0,0,0,0.2); border:1px solid rgba(255,255,255,0.1);">
          <button id="adminCreateUserBtn" class="cta-primary" style="padding: 10px 24px;">Create</button>
        </div>
      </div>

      <div id="userTableBody" class="user-grid"></div>
    </section>

    <section id="adminServices" class="tab glass-card" hidden>
      <div class="section-header">
        <h2>Service Tickets</h2>
      </div>
      <div id="adminServiceList"
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;"></div>
    </section>

    <section id="adminModeration" class="tab glass-card" hidden style="display: flex; flex-direction: column;">
      <div class="section-header">
        <h2>Moderation Command Center</h2>
      </div>

      <div class="mod-container mod-main-layout" style="display: grid; gap: 24px; flex: 1; overflow: hidden;">

        <!-- Support & Chat (Top) -->
        <div class="mod-section glass-card"
          style="display: flex; flex-direction: column; overflow: hidden; background: rgba(0,0,0,0.2);">
          <h3
            style="padding: 20px; margin: 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 16px; color: var(--accent);">
            Support Operations</h3>

          <div class="support-grid-layout" style="display: grid; gap: 0; flex: 1; overflow: hidden;">
            <!-- User List -->
            <div
              style="border-right: 1px solid rgba(255,255,255,0.05); padding: 20px; overflow-y: auto; background: rgba(255,255,255,0.01);">
              <h4
                style="margin: 0 0 15px 0; font-size: 12px; opacity: 0.5; text-transform: uppercase; letter-spacing: 1px;">
                Active Streams</h4>
              <div id="adminUserList" style="display: flex; flex-direction: column; gap: 8px;"></div>
            </div>

            <!-- Chat Area -->
            <div id="adminChatContainer" style="display:flex; flex-direction:column; overflow: hidden; padding: 20px;"
              hidden>
              <h4 id="adminChatHeader" style="margin: 0 0 15px 0; color: #fff;">Stream Analysis</h4>
              <div id="adminChatBox" class="chat-box"
                style="flex:1; background:rgba(0,0,0,0.3); border-radius:16px; margin-bottom:20px; padding: 20px;">
              </div>
              <div class="chat-input glass-card">
                <input type="text" id="adminReplyInput" placeholder="Transmit reply..."
                  style="background:transparent; border:none; color:#fff; flex:1;">
                <button id="adminReplyBtn">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                  </svg>
                </button>
              </div>
            </div>

            <div id="adminChatPlaceholder"
              style="display:flex; flex-direction:column; align-items:center; justify-content:center; color:rgba(255,255,255,0.3); text-align: center; gap: 15px;">
              <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1"
                stroke-linecap="round" stroke-linejoin="round" style="opacity:0.2;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              Select an operative stream to begin analysis
            </div>
          </div>
        </div>

        <!-- Post Moderation (Bottom) -->
        <div class="mod-section glass-card"
          style="display: flex; flex-direction: column; overflow: hidden; background: rgba(0,0,0,0.2);">
          <h3
            style="padding: 20px; margin: 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 16px; color: var(--accent);">
            Community Feed Mod</h3>
          <div id="adminPostList" style="overflow-y: auto; flex: 1; padding: 20px;">
          </div>
        </div>

      </div>
    </section>

  </main>

  <script type="module" src="admin.js"></script>
</body>

</html>